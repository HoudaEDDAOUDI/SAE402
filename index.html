<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">

    <link rel="stylesheet" href="css/animate.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>
    <style>
        /*CSS BASE*/
        @keyframes translateXAnimation {
            0% {
                opacity: 0;
                transform: translateX(-100%);
            }

            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        body {
            position: relative;
            height: 100vh;
            margin: 0;
        }

        .reveal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1280px;
            height: 720px;
            margin: auto;
        }

        .reveal .slides {
            width: 100% !important;
            height: 100% !important;
        }

        .fade {
            opacity: 0;
            animation: translateXAnimation 1s ease-out forwards;
            animation-delay: var(--delay, 0s);
        }
        .titre {
            font-size: 50px;
            font-weight: bold;
            color: black;
            text-transform: uppercase;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        section {
            position: relative;
            width: 100%;
            height: 100%;
        }

        section .parallax {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        /*sectionMaison*/

        #sectionMaison .maison {
            height: 250px;
            z-index: 10;
            position: absolute;
            top: 300px!important;
            right: 100px!important;
        }

        #sectionMaison .collineDroite {
            z-index: 8;
            position: absolute;
            height: 200px;
            bottom: 0!important;
            top: 505px!important;
            left: 600px!important;
        }

        #sectionMaison .collineGauche {
            z-index: 5;
            position: absolute;
            height: 200px;
            bottom: 0!important;
            top: 505px!important;
            right: 500px!important;
        }

        #sectionMaison .nuage1 {
            height: 80px;
            top: 2%;
            padding-left: 70%;
        }

        #sectionMaison .nuage2 {
            height: 80px;
            top: 5%;
            padding-left: 30%;
        }

        #sectionMaison .arbre1 {
            height: 80px;
            z-index: 10;
            position: absolute;
            top: 90%;
            left: 10px;
        }

        /*sectionChateau*/

        #sectionChateau .solChateaux {
            height: 300px;
        }

        /*SIRENE*/
        #sectionSirene{
            width: 500px;
        }
        #sectionSirene .eau{
            margin: 0;
            width: 1280px !important;
        }
        #sectionSirene .item2{
            top: 250px !important;
            left: 400px !important;
        }
        #sectionSirene .item3{
            top: 210px !important;
            right: 200px !important;
        }
        #sectionSirene .sableDroite, #sectionSirene .sableGauche{
            width: 900px !important;
        }
        #sectionSirene .item4{
            top: 100px !important;
            right: -100px !important;
        }
        #sectionSirene .algue1{
            width: 150px !important;
        }
    </style>
</head>

<body>
    <!---
        Pour chaque div juste avant l'image ajouter une class "fade parallax" et un style="--delays: xs"
        Pour chaque section ajouter un id correspondant à la div
        Pour chaque image mettre un data-depth
        Pour css mettre le nom de la div puis la class de l'image avec un commentaire avant
    --->
    <div class="reveal">
        <div class="slides">
            <section data-background-color="lightblue" data-transition="fade-in slide-in">
                <span class="titre">
                    Les métamorphoses de Lila
                </span>
            </section>
            <section data-background-color="lightblue" id="sectionMaison" data-transition="fade-in slide-in">
                <div class="fade parallax" style="--delay: 0s;">
                    <img data-depth="0.04" src="image/decor_maison/colline/colline_droite.svg" alt="colline droite"
                        class="collineDroite">
                </div>
                <div class="fade parallax" style="--delay: 0.8s;">
                    <img data-depth="-0.02" src="image/decor_maison/colline/colline_gauche.svg" alt="colline gauche"
                        class="collineGauche">
                </div>
                <div class="fade parallax" style="--delay: 1.3s;">
                    <img data-depth="0.05" src="image/decor_maison/maison/maison.svg" alt="maison" class="maison">
                </div>
                <div class="fade parallax" style="--delay: 1.6s;">
                    <img data-depth="-0.08" src="image/decor_maison/nuage/nuage1.svg" alt="nuage 1" class="nuage1">
                </div>
                <div class="fade parallax" style="--delay: 1.9s;">
                    <img data-depth="0.07" src="image/decor_maison/nuage/nuage2.svg" alt="nuage 2" class="nuage2">
                </div>
                <div class="fade parallax" style="--delay: 1.9s;">
                    <img data-depth="0.07" src="image/decor_maison/arbre/arbre1.svg" alt="arbre 1" class="arbre1">
                </div>
            </section>
            <section>
                <div class="fade item1" id="sectionChateau" style="--delay: 0s;">
                    <img data-depth="0.04" src="image/decor_chateau/sol_chateau.svg" alt="sol partie châteaux"
                        class="solChateaux">
                </div>
            </section>
            <section data-background-color="lightblue" id="sectionSirene" data-transition="fade-in slide-in">
                <div class="fade parallax item1" style="--delay: 0s;">
                    <img data-depth="0.04" src="image/decor_mer/decor_mer/eau_caillou.svg" alt="eau" class="eau">
                </div>
                <div class="fade parallax item2" style="--delay: 1s;">
                    <img data-depth="-0.07" src="image/decor_mer/decor_mer/sable_droite.svg" alt="sable" class="sableDroite">
                </div>
                <div class="fade parallax item3" style="--delay: 1.5s;">
                    <img data-depth="0.05" src="image/decor_mer/decor_mer/sable_gauche.svg" alt="sable" class="sableGauche">
                </div>
                <div class="fade parallax item4" style="--delay: 1.8s;">
                    <img data-depth="0.03" src="image/decor_mer/algues/algue1.svg" alt="algue" class="algue1">
                </div>
            </section>
        </div>
    </div>
    <!--<script src="js/wow.min.js"></script>-->
    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/zoom/zoom.js"></script>

    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/

        //new WOW().init();

        Reveal.initialize({
            hash: true,
            backgroundTransition: 'slide',
            autoSlide: 5000,
            loop: true,

            keyboard: {
                1: () => {
                    Reveal.toggleOverview();
                }, // do something custom when ESC is pressed
            },

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
        });

        //AJOUTER LES SCENES ICI
        document.querySelectorAll('.parallax').forEach(parallax => {
            var parallaxInstance = new Parallax(parallax, { relativeInput: true });
            parallaxInstance.friction(0.2, 0.2, 0.3);
        });

    </script>
</body>

</html>